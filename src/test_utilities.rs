use std::fmt::Debug;

pub fn test_sort<T: Ord + Clone, U: AsMut<[T]> + Debug + Eq, S: Fn(&mut [T]) -> ()>(
    sorter: S,
    mut input: U,
    expected: U,
) {
    sorter(input.as_mut());

    assert_eq!(input, expected);
}

pub fn run_all_sorting_tests<S: Fn(&mut [i32]) -> ()>(sorter: S) {
    let sorter_ref = &sorter;

    test_sort(sorter_ref, [], []);

    test_sort(sorter_ref, [0], [0]);

    test_sort(sorter_ref, [0, 0], [0, 0]);
    test_sort(sorter_ref, [0, 1], [0, 1]);
    test_sort(sorter_ref, [1, 0], [0, 1]);

    test_sort(sorter_ref, [0, 0, 0], [0, 0, 0]);
    test_sort(sorter_ref, [0, 0, 1], [0, 0, 1]);
    test_sort(sorter_ref, [0, 1, 0], [0, 0, 1]);
    test_sort(sorter_ref, [0, 1, 1], [0, 1, 1]);
    test_sort(sorter_ref, [0, 1, 2], [0, 1, 2]);
    test_sort(sorter_ref, [0, 2, 1], [0, 1, 2]);
    test_sort(sorter_ref, [1, 0, 0], [0, 0, 1]);
    test_sort(sorter_ref, [1, 0, 1], [0, 1, 1]);
    test_sort(sorter_ref, [1, 0, 2], [0, 1, 2]);
    test_sort(sorter_ref, [1, 1, 0], [0, 1, 1]);
    test_sort(sorter_ref, [1, 2, 0], [0, 1, 2]);
    test_sort(sorter_ref, [2, 0, 1], [0, 1, 2]);
    test_sort(sorter_ref, [2, 1, 0], [0, 1, 2]);

    test_sort(sorter_ref, [0, 0, 0, 0], [0, 0, 0, 0]);
    test_sort(sorter_ref, [0, 0, 0, 1], [0, 0, 0, 1]);
    test_sort(sorter_ref, [0, 0, 1, 0], [0, 0, 0, 1]);
    test_sort(sorter_ref, [0, 0, 1, 1], [0, 0, 1, 1]);
    test_sort(sorter_ref, [0, 0, 1, 2], [0, 0, 1, 2]);
    test_sort(sorter_ref, [0, 0, 2, 1], [0, 0, 1, 2]);
    test_sort(sorter_ref, [0, 1, 0, 0], [0, 0, 0, 1]);
    test_sort(sorter_ref, [0, 1, 0, 1], [0, 0, 1, 1]);
    test_sort(sorter_ref, [0, 1, 0, 2], [0, 0, 1, 2]);
    test_sort(sorter_ref, [0, 1, 1, 0], [0, 0, 1, 1]);
    test_sort(sorter_ref, [0, 1, 1, 1], [0, 1, 1, 1]);
    test_sort(sorter_ref, [0, 1, 1, 2], [0, 1, 1, 2]);
    test_sort(sorter_ref, [0, 1, 2, 0], [0, 0, 1, 2]);
    test_sort(sorter_ref, [0, 1, 2, 1], [0, 1, 1, 2]);
    test_sort(sorter_ref, [0, 1, 2, 2], [0, 1, 2, 2]);
    test_sort(sorter_ref, [0, 1, 2, 3], [0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 1, 3, 2], [0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 2, 0, 1], [0, 0, 1, 2]);
    test_sort(sorter_ref, [0, 2, 1, 0], [0, 0, 1, 2]);
    test_sort(sorter_ref, [0, 2, 1, 1], [0, 1, 1, 2]);
    test_sort(sorter_ref, [0, 2, 1, 2], [0, 1, 2, 2]);
    test_sort(sorter_ref, [0, 2, 1, 3], [0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 2, 2, 1], [0, 1, 2, 2]);
    test_sort(sorter_ref, [0, 2, 3, 1], [0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 3, 1, 2], [0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 3, 2, 1], [0, 1, 2, 3]);
    test_sort(sorter_ref, [1, 0, 0, 0], [0, 0, 0, 1]);
    test_sort(sorter_ref, [1, 0, 0, 1], [0, 0, 1, 1]);
    test_sort(sorter_ref, [1, 0, 0, 2], [0, 0, 1, 2]);
    test_sort(sorter_ref, [1, 0, 1, 0], [0, 0, 1, 1]);
    test_sort(sorter_ref, [1, 0, 1, 1], [0, 1, 1, 1]);
    test_sort(sorter_ref, [1, 0, 1, 2], [0, 1, 1, 2]);
    test_sort(sorter_ref, [1, 0, 2, 0], [0, 0, 1, 2]);
    test_sort(sorter_ref, [1, 0, 2, 1], [0, 1, 1, 2]);
    test_sort(sorter_ref, [1, 0, 2, 2], [0, 1, 2, 2]);
    test_sort(sorter_ref, [1, 0, 2, 3], [0, 1, 2, 3]);
    test_sort(sorter_ref, [1, 0, 3, 2], [0, 1, 2, 3]);
    test_sort(sorter_ref, [1, 1, 0, 0], [0, 0, 1, 1]);
    test_sort(sorter_ref, [1, 1, 0, 1], [0, 1, 1, 1]);
    test_sort(sorter_ref, [1, 1, 0, 2], [0, 1, 1, 2]);
    test_sort(sorter_ref, [1, 1, 1, 0], [0, 1, 1, 1]);
    test_sort(sorter_ref, [1, 1, 2, 0], [0, 1, 1, 2]);
    test_sort(sorter_ref, [1, 2, 0, 0], [0, 0, 1, 2]);
    test_sort(sorter_ref, [1, 2, 0, 1], [0, 1, 1, 2]);
    test_sort(sorter_ref, [1, 2, 0, 2], [0, 1, 2, 2]);
    test_sort(sorter_ref, [1, 2, 0, 3], [0, 1, 2, 3]);
    test_sort(sorter_ref, [1, 2, 1, 0], [0, 1, 1, 2]);
    test_sort(sorter_ref, [1, 2, 2, 0], [0, 1, 2, 2]);
    test_sort(sorter_ref, [1, 2, 3, 0], [0, 1, 2, 3]);
    test_sort(sorter_ref, [1, 3, 0, 2], [0, 1, 2, 3]);
    test_sort(sorter_ref, [1, 3, 2, 0], [0, 1, 2, 3]);
    test_sort(sorter_ref, [2, 0, 0, 1], [0, 0, 1, 2]);
    test_sort(sorter_ref, [2, 0, 1, 0], [0, 0, 1, 2]);
    test_sort(sorter_ref, [2, 0, 1, 1], [0, 1, 1, 2]);
    test_sort(sorter_ref, [2, 0, 1, 2], [0, 1, 2, 2]);
    test_sort(sorter_ref, [2, 0, 1, 3], [0, 1, 2, 3]);
    test_sort(sorter_ref, [2, 0, 2, 1], [0, 1, 2, 2]);
    test_sort(sorter_ref, [2, 0, 3, 1], [0, 1, 2, 3]);
    test_sort(sorter_ref, [2, 1, 0, 0], [0, 0, 1, 2]);
    test_sort(sorter_ref, [2, 1, 0, 1], [0, 1, 1, 2]);
    test_sort(sorter_ref, [2, 1, 0, 2], [0, 1, 2, 2]);
    test_sort(sorter_ref, [2, 1, 0, 3], [0, 1, 2, 3]);
    test_sort(sorter_ref, [2, 1, 1, 0], [0, 1, 1, 2]);
    test_sort(sorter_ref, [2, 1, 2, 0], [0, 1, 2, 2]);
    test_sort(sorter_ref, [2, 1, 3, 0], [0, 1, 2, 3]);
    test_sort(sorter_ref, [2, 2, 0, 1], [0, 1, 2, 2]);
    test_sort(sorter_ref, [2, 2, 1, 0], [0, 1, 2, 2]);
    test_sort(sorter_ref, [2, 3, 0, 1], [0, 1, 2, 3]);
    test_sort(sorter_ref, [2, 3, 1, 0], [0, 1, 2, 3]);
    test_sort(sorter_ref, [3, 0, 1, 2], [0, 1, 2, 3]);
    test_sort(sorter_ref, [3, 0, 2, 1], [0, 1, 2, 3]);
    test_sort(sorter_ref, [3, 1, 0, 2], [0, 1, 2, 3]);
    test_sort(sorter_ref, [3, 1, 2, 0], [0, 1, 2, 3]);
    test_sort(sorter_ref, [3, 2, 0, 1], [0, 1, 2, 3]);
    test_sort(sorter_ref, [3, 2, 1, 0], [0, 1, 2, 3]);

    test_sort(sorter_ref, [0, 0, 0, 0, 0], [0, 0, 0, 0, 0]);
    test_sort(sorter_ref, [0, 0, 0, 0, 1], [0, 0, 0, 0, 1]);
    test_sort(sorter_ref, [0, 0, 0, 1, 0], [0, 0, 0, 0, 1]);
    test_sort(sorter_ref, [0, 0, 0, 1, 1], [0, 0, 0, 1, 1]);
    test_sort(sorter_ref, [0, 0, 0, 1, 2], [0, 0, 0, 1, 2]);
    test_sort(sorter_ref, [0, 0, 0, 2, 1], [0, 0, 0, 1, 2]);
    test_sort(sorter_ref, [0, 0, 1, 0, 0], [0, 0, 0, 0, 1]);
    test_sort(sorter_ref, [0, 0, 1, 0, 1], [0, 0, 0, 1, 1]);
    test_sort(sorter_ref, [0, 0, 1, 0, 2], [0, 0, 0, 1, 2]);
    test_sort(sorter_ref, [0, 0, 1, 1, 0], [0, 0, 0, 1, 1]);
    test_sort(sorter_ref, [0, 0, 1, 1, 1], [0, 0, 1, 1, 1]);
    test_sort(sorter_ref, [0, 0, 1, 1, 2], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [0, 0, 1, 2, 0], [0, 0, 0, 1, 2]);
    test_sort(sorter_ref, [0, 0, 1, 2, 1], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [0, 0, 1, 2, 2], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [0, 0, 1, 2, 3], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 0, 1, 3, 2], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 0, 2, 0, 1], [0, 0, 0, 1, 2]);
    test_sort(sorter_ref, [0, 0, 2, 1, 0], [0, 0, 0, 1, 2]);
    test_sort(sorter_ref, [0, 0, 2, 1, 1], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [0, 0, 2, 1, 2], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [0, 0, 2, 1, 3], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 0, 2, 2, 1], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [0, 0, 2, 3, 1], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 0, 3, 1, 2], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 0, 3, 2, 1], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 1, 0, 0, 0], [0, 0, 0, 0, 1]);
    test_sort(sorter_ref, [0, 1, 0, 0, 1], [0, 0, 0, 1, 1]);
    test_sort(sorter_ref, [0, 1, 0, 0, 2], [0, 0, 0, 1, 2]);
    test_sort(sorter_ref, [0, 1, 0, 1, 0], [0, 0, 0, 1, 1]);
    test_sort(sorter_ref, [0, 1, 0, 1, 1], [0, 0, 1, 1, 1]);
    test_sort(sorter_ref, [0, 1, 0, 1, 2], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [0, 1, 0, 2, 0], [0, 0, 0, 1, 2]);
    test_sort(sorter_ref, [0, 1, 0, 2, 1], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [0, 1, 0, 2, 2], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [0, 1, 0, 2, 3], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 1, 0, 3, 2], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 1, 1, 0, 0], [0, 0, 0, 1, 1]);
    test_sort(sorter_ref, [0, 1, 1, 0, 1], [0, 0, 1, 1, 1]);
    test_sort(sorter_ref, [0, 1, 1, 0, 2], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [0, 1, 1, 1, 0], [0, 0, 1, 1, 1]);
    test_sort(sorter_ref, [0, 1, 1, 1, 1], [0, 1, 1, 1, 1]);
    test_sort(sorter_ref, [0, 1, 1, 1, 2], [0, 1, 1, 1, 2]);
    test_sort(sorter_ref, [0, 1, 1, 2, 0], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [0, 1, 1, 2, 1], [0, 1, 1, 1, 2]);
    test_sort(sorter_ref, [0, 1, 1, 2, 2], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [0, 1, 1, 2, 3], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [0, 1, 1, 3, 2], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [0, 1, 2, 0, 0], [0, 0, 0, 1, 2]);
    test_sort(sorter_ref, [0, 1, 2, 0, 1], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [0, 1, 2, 0, 2], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [0, 1, 2, 0, 3], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 1, 2, 1, 0], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [0, 1, 2, 1, 1], [0, 1, 1, 1, 2]);
    test_sort(sorter_ref, [0, 1, 2, 1, 2], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [0, 1, 2, 1, 3], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [0, 1, 2, 2, 0], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [0, 1, 2, 2, 1], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [0, 1, 2, 2, 2], [0, 1, 2, 2, 2]);
    test_sort(sorter_ref, [0, 1, 2, 2, 3], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [0, 1, 2, 3, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 1, 2, 3, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [0, 1, 2, 3, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [0, 1, 2, 3, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [0, 1, 2, 3, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 1, 2, 4, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 1, 3, 0, 2], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 1, 3, 1, 2], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [0, 1, 3, 2, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 1, 3, 2, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [0, 1, 3, 2, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [0, 1, 3, 2, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [0, 1, 3, 2, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 1, 3, 3, 2], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [0, 1, 3, 4, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 1, 4, 2, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 1, 4, 3, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 2, 0, 0, 1], [0, 0, 0, 1, 2]);
    test_sort(sorter_ref, [0, 2, 0, 1, 0], [0, 0, 0, 1, 2]);
    test_sort(sorter_ref, [0, 2, 0, 1, 1], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [0, 2, 0, 1, 2], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [0, 2, 0, 1, 3], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 2, 0, 2, 1], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [0, 2, 0, 3, 1], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 2, 1, 0, 0], [0, 0, 0, 1, 2]);
    test_sort(sorter_ref, [0, 2, 1, 0, 1], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [0, 2, 1, 0, 2], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [0, 2, 1, 0, 3], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 2, 1, 1, 0], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [0, 2, 1, 1, 1], [0, 1, 1, 1, 2]);
    test_sort(sorter_ref, [0, 2, 1, 1, 2], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [0, 2, 1, 1, 3], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [0, 2, 1, 2, 0], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [0, 2, 1, 2, 1], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [0, 2, 1, 2, 2], [0, 1, 2, 2, 2]);
    test_sort(sorter_ref, [0, 2, 1, 2, 3], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [0, 2, 1, 3, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 2, 1, 3, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [0, 2, 1, 3, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [0, 2, 1, 3, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [0, 2, 1, 3, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 2, 1, 4, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 2, 2, 0, 1], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [0, 2, 2, 1, 0], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [0, 2, 2, 1, 1], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [0, 2, 2, 1, 2], [0, 1, 2, 2, 2]);
    test_sort(sorter_ref, [0, 2, 2, 1, 3], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [0, 2, 2, 2, 1], [0, 1, 2, 2, 2]);
    test_sort(sorter_ref, [0, 2, 2, 3, 1], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [0, 2, 3, 0, 1], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 2, 3, 1, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 2, 3, 1, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [0, 2, 3, 1, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [0, 2, 3, 1, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [0, 2, 3, 1, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 2, 3, 2, 1], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [0, 2, 3, 3, 1], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [0, 2, 3, 4, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 2, 4, 1, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 2, 4, 3, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 3, 0, 1, 2], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 3, 0, 2, 1], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 3, 1, 0, 2], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 3, 1, 1, 2], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [0, 3, 1, 2, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 3, 1, 2, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [0, 3, 1, 2, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [0, 3, 1, 2, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [0, 3, 1, 2, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 3, 1, 3, 2], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [0, 3, 1, 4, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 3, 2, 0, 1], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 3, 2, 1, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [0, 3, 2, 1, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [0, 3, 2, 1, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [0, 3, 2, 1, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [0, 3, 2, 1, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 3, 2, 2, 1], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [0, 3, 2, 3, 1], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [0, 3, 2, 4, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 3, 3, 1, 2], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [0, 3, 3, 2, 1], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [0, 3, 4, 1, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 3, 4, 2, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 4, 1, 2, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 4, 1, 3, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 4, 2, 1, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 4, 2, 3, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 4, 3, 1, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [0, 4, 3, 2, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 0, 0, 0, 0], [0, 0, 0, 0, 1]);
    test_sort(sorter_ref, [1, 0, 0, 0, 1], [0, 0, 0, 1, 1]);
    test_sort(sorter_ref, [1, 0, 0, 0, 2], [0, 0, 0, 1, 2]);
    test_sort(sorter_ref, [1, 0, 0, 1, 0], [0, 0, 0, 1, 1]);
    test_sort(sorter_ref, [1, 0, 0, 1, 1], [0, 0, 1, 1, 1]);
    test_sort(sorter_ref, [1, 0, 0, 1, 2], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [1, 0, 0, 2, 0], [0, 0, 0, 1, 2]);
    test_sort(sorter_ref, [1, 0, 0, 2, 1], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [1, 0, 0, 2, 2], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [1, 0, 0, 2, 3], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [1, 0, 0, 3, 2], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [1, 0, 1, 0, 0], [0, 0, 0, 1, 1]);
    test_sort(sorter_ref, [1, 0, 1, 0, 1], [0, 0, 1, 1, 1]);
    test_sort(sorter_ref, [1, 0, 1, 0, 2], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [1, 0, 1, 1, 0], [0, 0, 1, 1, 1]);
    test_sort(sorter_ref, [1, 0, 1, 1, 1], [0, 1, 1, 1, 1]);
    test_sort(sorter_ref, [1, 0, 1, 1, 2], [0, 1, 1, 1, 2]);
    test_sort(sorter_ref, [1, 0, 1, 2, 0], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [1, 0, 1, 2, 1], [0, 1, 1, 1, 2]);
    test_sort(sorter_ref, [1, 0, 1, 2, 2], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [1, 0, 1, 2, 3], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 0, 1, 3, 2], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 0, 2, 0, 0], [0, 0, 0, 1, 2]);
    test_sort(sorter_ref, [1, 0, 2, 0, 1], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [1, 0, 2, 0, 2], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [1, 0, 2, 0, 3], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [1, 0, 2, 1, 0], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [1, 0, 2, 1, 1], [0, 1, 1, 1, 2]);
    test_sort(sorter_ref, [1, 0, 2, 1, 2], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [1, 0, 2, 1, 3], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 0, 2, 2, 0], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [1, 0, 2, 2, 1], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [1, 0, 2, 2, 2], [0, 1, 2, 2, 2]);
    test_sort(sorter_ref, [1, 0, 2, 2, 3], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [1, 0, 2, 3, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [1, 0, 2, 3, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 0, 2, 3, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [1, 0, 2, 3, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [1, 0, 2, 3, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 0, 2, 4, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 0, 3, 0, 2], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [1, 0, 3, 1, 2], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 0, 3, 2, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [1, 0, 3, 2, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 0, 3, 2, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [1, 0, 3, 2, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [1, 0, 3, 2, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 0, 3, 3, 2], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [1, 0, 3, 4, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 0, 4, 2, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 0, 4, 3, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 1, 0, 0, 0], [0, 0, 0, 1, 1]);
    test_sort(sorter_ref, [1, 1, 0, 0, 1], [0, 0, 1, 1, 1]);
    test_sort(sorter_ref, [1, 1, 0, 0, 2], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [1, 1, 0, 1, 0], [0, 0, 1, 1, 1]);
    test_sort(sorter_ref, [1, 1, 0, 1, 1], [0, 1, 1, 1, 1]);
    test_sort(sorter_ref, [1, 1, 0, 1, 2], [0, 1, 1, 1, 2]);
    test_sort(sorter_ref, [1, 1, 0, 2, 0], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [1, 1, 0, 2, 1], [0, 1, 1, 1, 2]);
    test_sort(sorter_ref, [1, 1, 0, 2, 2], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [1, 1, 0, 2, 3], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 1, 0, 3, 2], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 1, 1, 0, 0], [0, 0, 1, 1, 1]);
    test_sort(sorter_ref, [1, 1, 1, 0, 1], [0, 1, 1, 1, 1]);
    test_sort(sorter_ref, [1, 1, 1, 0, 2], [0, 1, 1, 1, 2]);
    test_sort(sorter_ref, [1, 1, 1, 1, 0], [0, 1, 1, 1, 1]);
    test_sort(sorter_ref, [1, 1, 1, 2, 0], [0, 1, 1, 1, 2]);
    test_sort(sorter_ref, [1, 1, 2, 0, 0], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [1, 1, 2, 0, 1], [0, 1, 1, 1, 2]);
    test_sort(sorter_ref, [1, 1, 2, 0, 2], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [1, 1, 2, 0, 3], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 1, 2, 1, 0], [0, 1, 1, 1, 2]);
    test_sort(sorter_ref, [1, 1, 2, 2, 0], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [1, 1, 2, 3, 0], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 1, 3, 0, 2], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 1, 3, 2, 0], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 2, 0, 0, 0], [0, 0, 0, 1, 2]);
    test_sort(sorter_ref, [1, 2, 0, 0, 1], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [1, 2, 0, 0, 2], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [1, 2, 0, 0, 3], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [1, 2, 0, 1, 0], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [1, 2, 0, 1, 1], [0, 1, 1, 1, 2]);
    test_sort(sorter_ref, [1, 2, 0, 1, 2], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [1, 2, 0, 1, 3], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 2, 0, 2, 0], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [1, 2, 0, 2, 1], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [1, 2, 0, 2, 2], [0, 1, 2, 2, 2]);
    test_sort(sorter_ref, [1, 2, 0, 2, 3], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [1, 2, 0, 3, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [1, 2, 0, 3, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 2, 0, 3, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [1, 2, 0, 3, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [1, 2, 0, 3, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 2, 0, 4, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 2, 1, 0, 0], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [1, 2, 1, 0, 1], [0, 1, 1, 1, 2]);
    test_sort(sorter_ref, [1, 2, 1, 0, 2], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [1, 2, 1, 0, 3], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 2, 1, 1, 0], [0, 1, 1, 1, 2]);
    test_sort(sorter_ref, [1, 2, 1, 2, 0], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [1, 2, 1, 3, 0], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 2, 2, 0, 0], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [1, 2, 2, 0, 1], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [1, 2, 2, 0, 2], [0, 1, 2, 2, 2]);
    test_sort(sorter_ref, [1, 2, 2, 0, 3], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [1, 2, 2, 1, 0], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [1, 2, 2, 2, 0], [0, 1, 2, 2, 2]);
    test_sort(sorter_ref, [1, 2, 2, 3, 0], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [1, 2, 3, 0, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [1, 2, 3, 0, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 2, 3, 0, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [1, 2, 3, 0, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [1, 2, 3, 0, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 2, 3, 1, 0], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 2, 3, 2, 0], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [1, 2, 3, 3, 0], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [1, 2, 3, 4, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 2, 4, 0, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 2, 4, 3, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 3, 0, 0, 2], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [1, 3, 0, 1, 2], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 3, 0, 2, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [1, 3, 0, 2, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 3, 0, 2, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [1, 3, 0, 2, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [1, 3, 0, 2, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 3, 0, 3, 2], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [1, 3, 0, 4, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 3, 1, 0, 2], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 3, 1, 2, 0], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 3, 2, 0, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [1, 3, 2, 0, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 3, 2, 0, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [1, 3, 2, 0, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [1, 3, 2, 0, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 3, 2, 1, 0], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [1, 3, 2, 2, 0], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [1, 3, 2, 3, 0], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [1, 3, 2, 4, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 3, 3, 0, 2], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [1, 3, 3, 2, 0], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [1, 3, 4, 0, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 3, 4, 2, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 4, 0, 2, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 4, 0, 3, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 4, 2, 0, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 4, 2, 3, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 4, 3, 0, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [1, 4, 3, 2, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 0, 0, 0, 1], [0, 0, 0, 1, 2]);
    test_sort(sorter_ref, [2, 0, 0, 1, 0], [0, 0, 0, 1, 2]);
    test_sort(sorter_ref, [2, 0, 0, 1, 1], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [2, 0, 0, 1, 2], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [2, 0, 0, 1, 3], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [2, 0, 0, 2, 1], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [2, 0, 0, 3, 1], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [2, 0, 1, 0, 0], [0, 0, 0, 1, 2]);
    test_sort(sorter_ref, [2, 0, 1, 0, 1], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [2, 0, 1, 0, 2], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [2, 0, 1, 0, 3], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [2, 0, 1, 1, 0], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [2, 0, 1, 1, 1], [0, 1, 1, 1, 2]);
    test_sort(sorter_ref, [2, 0, 1, 1, 2], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [2, 0, 1, 1, 3], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [2, 0, 1, 2, 0], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [2, 0, 1, 2, 1], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [2, 0, 1, 2, 2], [0, 1, 2, 2, 2]);
    test_sort(sorter_ref, [2, 0, 1, 2, 3], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 0, 1, 3, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [2, 0, 1, 3, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [2, 0, 1, 3, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 0, 1, 3, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [2, 0, 1, 3, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 0, 1, 4, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 0, 2, 0, 1], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [2, 0, 2, 1, 0], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [2, 0, 2, 1, 1], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [2, 0, 2, 1, 2], [0, 1, 2, 2, 2]);
    test_sort(sorter_ref, [2, 0, 2, 1, 3], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 0, 2, 2, 1], [0, 1, 2, 2, 2]);
    test_sort(sorter_ref, [2, 0, 2, 3, 1], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 0, 3, 0, 1], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [2, 0, 3, 1, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [2, 0, 3, 1, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [2, 0, 3, 1, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 0, 3, 1, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [2, 0, 3, 1, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 0, 3, 2, 1], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 0, 3, 3, 1], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [2, 0, 3, 4, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 0, 4, 1, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 0, 4, 3, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 1, 0, 0, 0], [0, 0, 0, 1, 2]);
    test_sort(sorter_ref, [2, 1, 0, 0, 1], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [2, 1, 0, 0, 2], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [2, 1, 0, 0, 3], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [2, 1, 0, 1, 0], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [2, 1, 0, 1, 1], [0, 1, 1, 1, 2]);
    test_sort(sorter_ref, [2, 1, 0, 1, 2], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [2, 1, 0, 1, 3], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [2, 1, 0, 2, 0], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [2, 1, 0, 2, 1], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [2, 1, 0, 2, 2], [0, 1, 2, 2, 2]);
    test_sort(sorter_ref, [2, 1, 0, 2, 3], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 1, 0, 3, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [2, 1, 0, 3, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [2, 1, 0, 3, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 1, 0, 3, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [2, 1, 0, 3, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 1, 0, 4, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 1, 1, 0, 0], [0, 0, 1, 1, 2]);
    test_sort(sorter_ref, [2, 1, 1, 0, 1], [0, 1, 1, 1, 2]);
    test_sort(sorter_ref, [2, 1, 1, 0, 2], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [2, 1, 1, 0, 3], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [2, 1, 1, 1, 0], [0, 1, 1, 1, 2]);
    test_sort(sorter_ref, [2, 1, 1, 2, 0], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [2, 1, 1, 3, 0], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [2, 1, 2, 0, 0], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [2, 1, 2, 0, 1], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [2, 1, 2, 0, 2], [0, 1, 2, 2, 2]);
    test_sort(sorter_ref, [2, 1, 2, 0, 3], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 1, 2, 1, 0], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [2, 1, 2, 2, 0], [0, 1, 2, 2, 2]);
    test_sort(sorter_ref, [2, 1, 2, 3, 0], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 1, 3, 0, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [2, 1, 3, 0, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [2, 1, 3, 0, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 1, 3, 0, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [2, 1, 3, 0, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 1, 3, 1, 0], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [2, 1, 3, 2, 0], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 1, 3, 3, 0], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [2, 1, 3, 4, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 1, 4, 0, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 1, 4, 3, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 2, 0, 0, 1], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [2, 2, 0, 1, 0], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [2, 2, 0, 1, 1], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [2, 2, 0, 1, 2], [0, 1, 2, 2, 2]);
    test_sort(sorter_ref, [2, 2, 0, 1, 3], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 2, 0, 2, 1], [0, 1, 2, 2, 2]);
    test_sort(sorter_ref, [2, 2, 0, 3, 1], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 2, 1, 0, 0], [0, 0, 1, 2, 2]);
    test_sort(sorter_ref, [2, 2, 1, 0, 1], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [2, 2, 1, 0, 2], [0, 1, 2, 2, 2]);
    test_sort(sorter_ref, [2, 2, 1, 0, 3], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 2, 1, 1, 0], [0, 1, 1, 2, 2]);
    test_sort(sorter_ref, [2, 2, 1, 2, 0], [0, 1, 2, 2, 2]);
    test_sort(sorter_ref, [2, 2, 1, 3, 0], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 2, 2, 0, 1], [0, 1, 2, 2, 2]);
    test_sort(sorter_ref, [2, 2, 2, 1, 0], [0, 1, 2, 2, 2]);
    test_sort(sorter_ref, [2, 2, 3, 0, 1], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 2, 3, 1, 0], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 3, 0, 0, 1], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [2, 3, 0, 1, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [2, 3, 0, 1, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [2, 3, 0, 1, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 3, 0, 1, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [2, 3, 0, 1, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 3, 0, 2, 1], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 3, 0, 3, 1], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [2, 3, 0, 4, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 3, 1, 0, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [2, 3, 1, 0, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [2, 3, 1, 0, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 3, 1, 0, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [2, 3, 1, 0, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 3, 1, 1, 0], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [2, 3, 1, 2, 0], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 3, 1, 3, 0], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [2, 3, 1, 4, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 3, 2, 0, 1], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 3, 2, 1, 0], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [2, 3, 3, 0, 1], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [2, 3, 3, 1, 0], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [2, 3, 4, 0, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 3, 4, 1, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 4, 0, 1, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 4, 0, 3, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 4, 1, 0, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 4, 1, 3, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 4, 3, 0, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [2, 4, 3, 1, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 0, 0, 1, 2], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [3, 0, 0, 2, 1], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [3, 0, 1, 0, 2], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [3, 0, 1, 1, 2], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [3, 0, 1, 2, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [3, 0, 1, 2, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [3, 0, 1, 2, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [3, 0, 1, 2, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 0, 1, 2, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 0, 1, 3, 2], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 0, 1, 4, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 0, 2, 0, 1], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [3, 0, 2, 1, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [3, 0, 2, 1, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [3, 0, 2, 1, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [3, 0, 2, 1, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 0, 2, 1, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 0, 2, 2, 1], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [3, 0, 2, 3, 1], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 0, 2, 4, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 0, 3, 1, 2], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 0, 3, 2, 1], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 0, 4, 1, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 0, 4, 2, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 1, 0, 0, 2], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [3, 1, 0, 1, 2], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [3, 1, 0, 2, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [3, 1, 0, 2, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [3, 1, 0, 2, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [3, 1, 0, 2, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 1, 0, 2, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 1, 0, 3, 2], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 1, 0, 4, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 1, 1, 0, 2], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [3, 1, 1, 2, 0], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [3, 1, 2, 0, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [3, 1, 2, 0, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [3, 1, 2, 0, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [3, 1, 2, 0, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 1, 2, 0, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 1, 2, 1, 0], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [3, 1, 2, 2, 0], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [3, 1, 2, 3, 0], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 1, 2, 4, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 1, 3, 0, 2], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 1, 3, 2, 0], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 1, 4, 0, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 1, 4, 2, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 2, 0, 0, 1], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [3, 2, 0, 1, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [3, 2, 0, 1, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [3, 2, 0, 1, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [3, 2, 0, 1, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 2, 0, 1, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 2, 0, 2, 1], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [3, 2, 0, 3, 1], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 2, 0, 4, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 2, 1, 0, 0], [0, 0, 1, 2, 3]);
    test_sort(sorter_ref, [3, 2, 1, 0, 1], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [3, 2, 1, 0, 2], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [3, 2, 1, 0, 3], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 2, 1, 0, 4], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 2, 1, 1, 0], [0, 1, 1, 2, 3]);
    test_sort(sorter_ref, [3, 2, 1, 2, 0], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [3, 2, 1, 3, 0], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 2, 1, 4, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 2, 2, 0, 1], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [3, 2, 2, 1, 0], [0, 1, 2, 2, 3]);
    test_sort(sorter_ref, [3, 2, 3, 0, 1], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 2, 3, 1, 0], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 2, 4, 0, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 2, 4, 1, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 3, 0, 1, 2], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 3, 0, 2, 1], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 3, 1, 0, 2], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 3, 1, 2, 0], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 3, 2, 0, 1], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 3, 2, 1, 0], [0, 1, 2, 3, 3]);
    test_sort(sorter_ref, [3, 4, 0, 1, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 4, 0, 2, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 4, 1, 0, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 4, 1, 2, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 4, 2, 0, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [3, 4, 2, 1, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 0, 1, 2, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 0, 1, 3, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 0, 2, 1, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 0, 2, 3, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 0, 3, 1, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 0, 3, 2, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 1, 0, 2, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 1, 0, 3, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 1, 2, 0, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 1, 2, 3, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 1, 3, 0, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 1, 3, 2, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 2, 0, 1, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 2, 0, 3, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 2, 1, 0, 3], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 2, 1, 3, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 2, 3, 0, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 2, 3, 1, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 3, 0, 1, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 3, 0, 2, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 3, 1, 0, 2], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 3, 1, 2, 0], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 3, 2, 0, 1], [0, 1, 2, 3, 4]);
    test_sort(sorter_ref, [4, 3, 2, 1, 0], [0, 1, 2, 3, 4]);
}

pub fn run_all_binary_search_tests<S: Fn(&[i32], &i32) -> Option<usize>>(searcher: S) {
    assert_eq!(searcher(&[], &0), None);

    assert_eq!(searcher(&[0], &-1), None);
    assert_eq!(searcher(&[0], &0), Some(0));
    assert_eq!(searcher(&[0], &1), None);

    assert_eq!(searcher(&[0, 0], &-1), None);
    assert_eq!(searcher(&[0, 0], &0), Some(0));
    assert_eq!(searcher(&[0, 0], &1), None);

    assert_eq!(searcher(&[0, 1], &-1), None);
    assert_eq!(searcher(&[0, 1], &0), Some(0));
    assert_eq!(searcher(&[0, 1], &1), Some(1));
    assert_eq!(searcher(&[0, 1], &2), None);

    assert_eq!(searcher(&[0, 0, 0], &-1), None);
    assert_eq!(searcher(&[0, 0, 0], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0], &1), None);

    assert_eq!(searcher(&[0, 0, 1], &-1), None);
    assert_eq!(searcher(&[0, 0, 1], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1], &2), None);

    assert_eq!(searcher(&[0, 1, 1], &-1), None);
    assert_eq!(searcher(&[0, 1, 1], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1], &2), None);

    assert_eq!(searcher(&[0, 1, 2], &-1), None);
    assert_eq!(searcher(&[0, 1, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2], &3), None);

    assert_eq!(searcher(&[0, 0, 0, 0], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 0], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 0], &1), None);

    assert_eq!(searcher(&[0, 0, 0, 1], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 1], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 1], &1), Some(3));
    assert_eq!(searcher(&[0, 0, 0, 1], &2), None);

    assert_eq!(searcher(&[0, 0, 1, 1], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 1], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 1], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 1], &2), None);

    assert_eq!(searcher(&[0, 0, 1, 2], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 2], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 2], &2), Some(3));
    assert_eq!(searcher(&[0, 0, 1, 2], &3), None);

    assert_eq!(searcher(&[0, 1, 1, 1], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 1], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 1], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 1], &2), None);

    assert_eq!(searcher(&[0, 1, 1, 2], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 2], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 2], &2), Some(3));
    assert_eq!(searcher(&[0, 1, 1, 2], &3), None);

    assert_eq!(searcher(&[0, 1, 2, 2], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 2], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 2], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 2], &3), None);

    assert_eq!(searcher(&[0, 1, 2, 3], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 3], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 3], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 3], &3), Some(3));
    assert_eq!(searcher(&[0, 1, 2, 3], &4), None);

    assert_eq!(searcher(&[0, 0, 0, 0, 0], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 0, 0], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 0, 0], &1), None);

    assert_eq!(searcher(&[0, 0, 0, 0, 1], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 0, 1], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 0, 1], &1), Some(4));
    assert_eq!(searcher(&[0, 0, 0, 0, 1], &2), None);

    assert_eq!(searcher(&[0, 0, 0, 1, 1], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 1, 1], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 1, 1], &1), Some(3));
    assert_eq!(searcher(&[0, 0, 0, 1, 1], &2), None);

    assert_eq!(searcher(&[0, 0, 0, 1, 2], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 1, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 1, 2], &1), Some(3));
    assert_eq!(searcher(&[0, 0, 0, 1, 2], &2), Some(4));
    assert_eq!(searcher(&[0, 0, 0, 1, 2], &3), None);

    assert_eq!(searcher(&[0, 0, 1, 1, 1], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 1, 1], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 1, 1], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 1, 1], &2), None);

    assert_eq!(searcher(&[0, 0, 1, 1, 2], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 1, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 1, 2], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 1, 2], &2), Some(4));
    assert_eq!(searcher(&[0, 0, 1, 1, 2], &3), None);

    assert_eq!(searcher(&[0, 0, 1, 2, 2], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 2, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 2, 2], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 2, 2], &2), Some(3));
    assert_eq!(searcher(&[0, 0, 1, 2, 2], &3), None);

    assert_eq!(searcher(&[0, 0, 1, 2, 3], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 2, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 2, 3], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 2, 3], &2), Some(3));
    assert_eq!(searcher(&[0, 0, 1, 2, 3], &3), Some(4));
    assert_eq!(searcher(&[0, 0, 1, 2, 3], &4), None);

    assert_eq!(searcher(&[0, 1, 1, 1, 1], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 1, 1], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 1, 1], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 1, 1], &2), None);

    assert_eq!(searcher(&[0, 1, 1, 1, 2], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 1, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 1, 2], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 1, 2], &2), Some(4));
    assert_eq!(searcher(&[0, 1, 1, 1, 2], &3), None);

    assert_eq!(searcher(&[0, 1, 1, 2, 2], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 2, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 2, 2], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 2, 2], &2), Some(3));
    assert_eq!(searcher(&[0, 1, 1, 2, 2], &3), None);

    assert_eq!(searcher(&[0, 1, 1, 2, 3], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 2, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 2, 3], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 2, 3], &2), Some(3));
    assert_eq!(searcher(&[0, 1, 1, 2, 3], &3), Some(4));
    assert_eq!(searcher(&[0, 1, 1, 2, 3], &4), None);

    assert_eq!(searcher(&[0, 1, 2, 2, 2], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 2, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 2, 2], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 2, 2], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 2, 2], &3), None);

    assert_eq!(searcher(&[0, 1, 2, 2, 3], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 2, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 2, 3], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 2, 3], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 2, 3], &3), Some(4));
    assert_eq!(searcher(&[0, 1, 2, 2, 3], &4), None);

    assert_eq!(searcher(&[0, 1, 2, 3, 3], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 3, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 3, 3], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 3, 3], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 3, 3], &3), Some(3));
    assert_eq!(searcher(&[0, 1, 2, 3, 3], &4), None);

    assert_eq!(searcher(&[0, 1, 2, 3, 4], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 3, 4], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 3, 4], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 3, 4], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 3, 4], &3), Some(3));
    assert_eq!(searcher(&[0, 1, 2, 3, 4], &4), Some(4));
    assert_eq!(searcher(&[0, 1, 2, 3, 4], &5), None);

    assert_eq!(searcher(&[0, 0, 0, 0, 0, 0], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 0, 0, 0], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 0, 0, 0], &1), None);

    assert_eq!(searcher(&[0, 0, 0, 0, 0, 1], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 0, 0, 1], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 0, 0, 1], &1), Some(5));
    assert_eq!(searcher(&[0, 0, 0, 0, 0, 1], &2), None);

    assert_eq!(searcher(&[0, 0, 0, 0, 1, 1], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 1], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 1], &1), Some(4));
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 1], &2), None);

    assert_eq!(searcher(&[0, 0, 0, 0, 1, 2], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 2], &1), Some(4));
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 2], &2), Some(5));
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 2], &3), None);

    assert_eq!(searcher(&[0, 0, 0, 1, 1, 1], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 1], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 1], &1), Some(3));
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 1], &2), None);

    assert_eq!(searcher(&[0, 0, 0, 1, 1, 2], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 2], &1), Some(3));
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 2], &2), Some(5));
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 2], &3), None);

    assert_eq!(searcher(&[0, 0, 0, 1, 2, 2], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 2], &1), Some(3));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 2], &2), Some(4));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 2], &3), None);

    assert_eq!(searcher(&[0, 0, 0, 1, 2, 3], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 3], &1), Some(3));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 3], &2), Some(4));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 3], &3), Some(5));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 3], &4), None);

    assert_eq!(searcher(&[0, 0, 1, 1, 1, 1], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 1], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 1], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 1], &2), None);

    assert_eq!(searcher(&[0, 0, 1, 1, 1, 2], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 2], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 2], &2), Some(5));
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 2], &3), None);

    assert_eq!(searcher(&[0, 0, 1, 1, 2, 2], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 2], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 2], &2), Some(4));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 2], &3), None);

    assert_eq!(searcher(&[0, 0, 1, 1, 2, 3], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 3], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 3], &2), Some(4));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 3], &3), Some(5));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 3], &4), None);

    assert_eq!(searcher(&[0, 0, 1, 2, 2, 2], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 2], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 2], &2), Some(3));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 2], &3), None);

    assert_eq!(searcher(&[0, 0, 1, 2, 2, 3], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 3], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 3], &2), Some(3));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 3], &3), Some(5));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 3], &4), None);

    assert_eq!(searcher(&[0, 0, 1, 2, 3, 3], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 3], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 3], &2), Some(3));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 3], &3), Some(4));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 3], &4), None);

    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4], &2), Some(3));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4], &3), Some(4));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4], &4), Some(5));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4], &5), None);

    assert_eq!(searcher(&[0, 1, 1, 1, 1, 1], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 1], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 1], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 1], &2), None);

    assert_eq!(searcher(&[0, 1, 1, 1, 1, 2], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 2], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 2], &2), Some(5));
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 2], &3), None);

    assert_eq!(searcher(&[0, 1, 1, 1, 2, 2], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 2], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 2], &2), Some(4));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 2], &3), None);

    assert_eq!(searcher(&[0, 1, 1, 1, 2, 3], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 3], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 3], &2), Some(4));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 3], &3), Some(5));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 3], &4), None);

    assert_eq!(searcher(&[0, 1, 1, 2, 2, 2], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 2], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 2], &2), Some(3));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 2], &3), None);

    assert_eq!(searcher(&[0, 1, 1, 2, 2, 3], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 3], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 3], &2), Some(3));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 3], &3), Some(5));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 3], &4), None);

    assert_eq!(searcher(&[0, 1, 1, 2, 3, 3], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 3], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 3], &2), Some(3));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 3], &3), Some(4));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 3], &4), None);

    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4], &2), Some(3));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4], &3), Some(4));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4], &4), Some(5));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4], &5), None);

    assert_eq!(searcher(&[0, 1, 2, 2, 2, 2], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 2], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 2], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 2], &3), None);

    assert_eq!(searcher(&[0, 1, 2, 2, 2, 3], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 3], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 3], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 3], &3), Some(5));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 3], &4), None);

    assert_eq!(searcher(&[0, 1, 2, 2, 3, 3], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 3], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 3], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 3], &3), Some(4));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 3], &4), None);

    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4], &3), Some(4));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4], &4), Some(5));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4], &5), None);

    assert_eq!(searcher(&[0, 1, 2, 3, 3, 3], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 3], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 3], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 3], &3), Some(3));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 3], &4), None);

    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4], &3), Some(3));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4], &4), Some(5));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4], &5), None);

    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4], &3), Some(3));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4], &4), Some(4));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4], &5), None);

    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5], &3), Some(3));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5], &4), Some(4));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5], &5), Some(5));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5], &6), None);

    assert_eq!(searcher(&[0, 0, 0, 0, 0, 0, 0], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 0, 0, 0, 0], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 0, 0, 0, 0], &1), None);

    assert_eq!(searcher(&[0, 0, 0, 0, 0, 0, 1], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 0, 0, 0, 1], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 0, 0, 0, 1], &1), Some(6));
    assert_eq!(searcher(&[0, 0, 0, 0, 0, 0, 1], &2), None);

    assert_eq!(searcher(&[0, 0, 0, 0, 0, 1, 1], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 0, 0, 1, 1], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 0, 0, 1, 1], &1), Some(5));
    assert_eq!(searcher(&[0, 0, 0, 0, 0, 1, 1], &2), None);

    assert_eq!(searcher(&[0, 0, 0, 0, 0, 1, 2], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 0, 0, 1, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 0, 0, 1, 2], &1), Some(5));
    assert_eq!(searcher(&[0, 0, 0, 0, 0, 1, 2], &2), Some(6));
    assert_eq!(searcher(&[0, 0, 0, 0, 0, 1, 2], &3), None);

    assert_eq!(searcher(&[0, 0, 0, 0, 1, 1, 1], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 1, 1], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 1, 1], &1), Some(4));
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 1, 1], &2), None);

    assert_eq!(searcher(&[0, 0, 0, 0, 1, 1, 2], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 1, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 1, 2], &1), Some(4));
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 1, 2], &2), Some(6));
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 1, 2], &3), None);

    assert_eq!(searcher(&[0, 0, 0, 0, 1, 2, 2], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 2, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 2, 2], &1), Some(4));
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 2, 2], &2), Some(5));
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 2, 2], &3), None);

    assert_eq!(searcher(&[0, 0, 0, 0, 1, 2, 3], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 2, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 2, 3], &1), Some(4));
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 2, 3], &2), Some(5));
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 2, 3], &3), Some(6));
    assert_eq!(searcher(&[0, 0, 0, 0, 1, 2, 3], &4), None);

    assert_eq!(searcher(&[0, 0, 0, 1, 1, 1, 1], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 1, 1], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 1, 1], &1), Some(3));
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 1, 1], &2), None);

    assert_eq!(searcher(&[0, 0, 0, 1, 1, 1, 2], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 1, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 1, 2], &1), Some(3));
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 1, 2], &2), Some(6));
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 1, 2], &3), None);

    assert_eq!(searcher(&[0, 0, 0, 1, 1, 2, 2], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 2, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 2, 2], &1), Some(3));
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 2, 2], &2), Some(5));
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 2, 2], &3), None);

    assert_eq!(searcher(&[0, 0, 0, 1, 1, 2, 3], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 2, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 2, 3], &1), Some(3));
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 2, 3], &2), Some(5));
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 2, 3], &3), Some(6));
    assert_eq!(searcher(&[0, 0, 0, 1, 1, 2, 3], &4), None);

    assert_eq!(searcher(&[0, 0, 0, 1, 2, 2, 2], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 2, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 2, 2], &1), Some(3));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 2, 2], &2), Some(4));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 2, 2], &3), None);

    assert_eq!(searcher(&[0, 0, 0, 1, 2, 2, 3], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 2, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 2, 3], &1), Some(3));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 2, 3], &2), Some(4));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 2, 3], &3), Some(6));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 2, 3], &4), None);

    assert_eq!(searcher(&[0, 0, 0, 1, 2, 3, 3], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 3, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 3, 3], &1), Some(3));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 3, 3], &2), Some(4));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 3, 3], &3), Some(5));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 3, 3], &4), None);

    assert_eq!(searcher(&[0, 0, 0, 1, 2, 3, 4], &-1), None);
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 3, 4], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 3, 4], &1), Some(3));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 3, 4], &2), Some(4));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 3, 4], &3), Some(5));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 3, 4], &4), Some(6));
    assert_eq!(searcher(&[0, 0, 0, 1, 2, 3, 4], &5), None);

    assert_eq!(searcher(&[0, 0, 1, 1, 1, 1, 1], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 1, 1], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 1, 1], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 1, 1], &2), None);

    assert_eq!(searcher(&[0, 0, 1, 1, 1, 1, 2], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 1, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 1, 2], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 1, 2], &2), Some(6));
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 1, 2], &3), None);

    assert_eq!(searcher(&[0, 0, 1, 1, 1, 2, 2], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 2, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 2, 2], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 2, 2], &2), Some(5));
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 2, 2], &3), None);

    assert_eq!(searcher(&[0, 0, 1, 1, 1, 2, 3], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 2, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 2, 3], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 2, 3], &2), Some(5));
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 2, 3], &3), Some(6));
    assert_eq!(searcher(&[0, 0, 1, 1, 1, 2, 3], &4), None);

    assert_eq!(searcher(&[0, 0, 1, 1, 2, 2, 2], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 2, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 2, 2], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 2, 2], &2), Some(4));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 2, 2], &3), None);

    assert_eq!(searcher(&[0, 0, 1, 1, 2, 2, 3], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 2, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 2, 3], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 2, 3], &2), Some(4));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 2, 3], &3), Some(6));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 2, 3], &4), None);

    assert_eq!(searcher(&[0, 0, 1, 1, 2, 3, 3], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 3, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 3, 3], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 3, 3], &2), Some(4));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 3, 3], &3), Some(5));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 3, 3], &4), None);

    assert_eq!(searcher(&[0, 0, 1, 1, 2, 3, 4], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 3, 4], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 3, 4], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 3, 4], &2), Some(4));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 3, 4], &3), Some(5));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 3, 4], &4), Some(6));
    assert_eq!(searcher(&[0, 0, 1, 1, 2, 3, 4], &5), None);

    assert_eq!(searcher(&[0, 0, 1, 2, 2, 2, 2], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 2, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 2, 2], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 2, 2], &2), Some(3));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 2, 2], &3), None);

    assert_eq!(searcher(&[0, 0, 1, 2, 2, 2, 3], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 2, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 2, 3], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 2, 3], &2), Some(3));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 2, 3], &3), Some(6));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 2, 3], &4), None);

    assert_eq!(searcher(&[0, 0, 1, 2, 2, 3, 3], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 3, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 3, 3], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 3, 3], &2), Some(3));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 3, 3], &3), Some(5));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 3, 3], &4), None);

    assert_eq!(searcher(&[0, 0, 1, 2, 2, 3, 4], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 3, 4], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 3, 4], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 3, 4], &2), Some(3));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 3, 4], &3), Some(5));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 3, 4], &4), Some(6));
    assert_eq!(searcher(&[0, 0, 1, 2, 2, 3, 4], &5), None);

    assert_eq!(searcher(&[0, 0, 1, 2, 3, 3, 3], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 3, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 3, 3], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 3, 3], &2), Some(3));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 3, 3], &3), Some(4));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 3, 3], &4), None);

    assert_eq!(searcher(&[0, 0, 1, 2, 3, 3, 4], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 3, 4], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 3, 4], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 3, 4], &2), Some(3));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 3, 4], &3), Some(4));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 3, 4], &4), Some(6));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 3, 4], &5), None);

    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4, 4], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4, 4], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4, 4], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4, 4], &2), Some(3));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4, 4], &3), Some(4));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4, 4], &4), Some(5));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4, 4], &5), None);

    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4, 5], &-1), None);
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4, 5], &0), Some(0));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4, 5], &1), Some(2));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4, 5], &2), Some(3));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4, 5], &3), Some(4));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4, 5], &4), Some(5));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4, 5], &5), Some(6));
    assert_eq!(searcher(&[0, 0, 1, 2, 3, 4, 5], &6), None);

    assert_eq!(searcher(&[0, 1, 1, 1, 1, 1, 1], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 1, 1], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 1, 1], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 1, 1], &2), None);

    assert_eq!(searcher(&[0, 1, 1, 1, 1, 1, 2], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 1, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 1, 2], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 1, 2], &2), Some(6));
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 1, 2], &3), None);

    assert_eq!(searcher(&[0, 1, 1, 1, 1, 2, 2], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 2, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 2, 2], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 2, 2], &2), Some(5));
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 2, 2], &3), None);

    assert_eq!(searcher(&[0, 1, 1, 1, 1, 2, 3], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 2, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 2, 3], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 2, 3], &2), Some(5));
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 2, 3], &3), Some(6));
    assert_eq!(searcher(&[0, 1, 1, 1, 1, 2, 3], &4), None);

    assert_eq!(searcher(&[0, 1, 1, 1, 2, 2, 2], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 2, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 2, 2], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 2, 2], &2), Some(4));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 2, 2], &3), None);

    assert_eq!(searcher(&[0, 1, 1, 1, 2, 2, 3], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 2, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 2, 3], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 2, 3], &2), Some(4));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 2, 3], &3), Some(6));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 2, 3], &4), None);

    assert_eq!(searcher(&[0, 1, 1, 1, 2, 3, 3], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 3, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 3, 3], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 3, 3], &2), Some(4));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 3, 3], &3), Some(5));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 3, 3], &4), None);

    assert_eq!(searcher(&[0, 1, 1, 1, 2, 3, 4], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 3, 4], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 3, 4], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 3, 4], &2), Some(4));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 3, 4], &3), Some(5));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 3, 4], &4), Some(6));
    assert_eq!(searcher(&[0, 1, 1, 1, 2, 3, 4], &5), None);

    assert_eq!(searcher(&[0, 1, 1, 2, 2, 2, 2], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 2, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 2, 2], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 2, 2], &2), Some(3));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 2, 2], &3), None);

    assert_eq!(searcher(&[0, 1, 1, 2, 2, 2, 3], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 2, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 2, 3], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 2, 3], &2), Some(3));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 2, 3], &3), Some(6));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 2, 3], &4), None);

    assert_eq!(searcher(&[0, 1, 1, 2, 2, 3, 3], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 3, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 3, 3], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 3, 3], &2), Some(3));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 3, 3], &3), Some(5));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 3, 3], &4), None);

    assert_eq!(searcher(&[0, 1, 1, 2, 2, 3, 4], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 3, 4], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 3, 4], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 3, 4], &2), Some(3));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 3, 4], &3), Some(5));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 3, 4], &4), Some(6));
    assert_eq!(searcher(&[0, 1, 1, 2, 2, 3, 4], &5), None);

    assert_eq!(searcher(&[0, 1, 1, 2, 3, 3, 3], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 3, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 3, 3], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 3, 3], &2), Some(3));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 3, 3], &3), Some(4));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 3, 3], &4), None);

    assert_eq!(searcher(&[0, 1, 1, 2, 3, 3, 4], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 3, 4], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 3, 4], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 3, 4], &2), Some(3));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 3, 4], &3), Some(4));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 3, 4], &4), Some(6));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 3, 4], &5), None);

    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4, 4], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4, 4], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4, 4], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4, 4], &2), Some(3));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4, 4], &3), Some(4));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4, 4], &4), Some(5));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4, 4], &5), None);

    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4, 5], &-1), None);
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4, 5], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4, 5], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4, 5], &2), Some(3));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4, 5], &3), Some(4));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4, 5], &4), Some(5));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4, 5], &5), Some(6));
    assert_eq!(searcher(&[0, 1, 1, 2, 3, 4, 5], &6), None);

    assert_eq!(searcher(&[0, 1, 2, 2, 2, 2, 2], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 2, 2], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 2, 2], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 2, 2], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 2, 2], &3), None);

    assert_eq!(searcher(&[0, 1, 2, 2, 2, 2, 3], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 2, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 2, 3], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 2, 3], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 2, 3], &3), Some(6));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 2, 3], &4), None);

    assert_eq!(searcher(&[0, 1, 2, 2, 2, 3, 3], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 3, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 3, 3], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 3, 3], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 3, 3], &3), Some(5));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 3, 3], &4), None);

    assert_eq!(searcher(&[0, 1, 2, 2, 2, 3, 4], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 3, 4], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 3, 4], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 3, 4], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 3, 4], &3), Some(5));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 3, 4], &4), Some(6));
    assert_eq!(searcher(&[0, 1, 2, 2, 2, 3, 4], &5), None);

    assert_eq!(searcher(&[0, 1, 2, 2, 3, 3, 3], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 3, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 3, 3], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 3, 3], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 3, 3], &3), Some(4));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 3, 3], &4), None);

    assert_eq!(searcher(&[0, 1, 2, 2, 3, 3, 4], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 3, 4], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 3, 4], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 3, 4], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 3, 4], &3), Some(4));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 3, 4], &4), Some(6));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 3, 4], &5), None);

    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4, 4], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4, 4], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4, 4], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4, 4], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4, 4], &3), Some(4));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4, 4], &4), Some(5));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4, 4], &5), None);

    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4, 5], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4, 5], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4, 5], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4, 5], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4, 5], &3), Some(4));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4, 5], &4), Some(5));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4, 5], &5), Some(6));
    assert_eq!(searcher(&[0, 1, 2, 2, 3, 4, 5], &6), None);

    assert_eq!(searcher(&[0, 1, 2, 3, 3, 3, 3], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 3, 3], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 3, 3], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 3, 3], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 3, 3], &3), Some(3));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 3, 3], &4), None);

    assert_eq!(searcher(&[0, 1, 2, 3, 3, 3, 4], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 3, 4], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 3, 4], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 3, 4], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 3, 4], &3), Some(3));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 3, 4], &4), Some(6));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 3, 4], &5), None);

    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4, 4], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4, 4], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4, 4], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4, 4], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4, 4], &3), Some(3));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4, 4], &4), Some(5));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4, 4], &5), None);

    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4, 5], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4, 5], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4, 5], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4, 5], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4, 5], &3), Some(3));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4, 5], &4), Some(5));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4, 5], &5), Some(6));
    assert_eq!(searcher(&[0, 1, 2, 3, 3, 4, 5], &6), None);

    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4, 4], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4, 4], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4, 4], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4, 4], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4, 4], &3), Some(3));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4, 4], &4), Some(4));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4, 4], &5), None);

    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4, 5], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4, 5], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4, 5], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4, 5], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4, 5], &3), Some(3));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4, 5], &4), Some(4));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4, 5], &5), Some(6));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 4, 5], &6), None);

    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5, 5], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5, 5], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5, 5], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5, 5], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5, 5], &3), Some(3));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5, 5], &4), Some(4));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5, 5], &5), Some(5));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5, 5], &6), None);

    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5, 6], &-1), None);
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5, 6], &0), Some(0));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5, 6], &1), Some(1));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5, 6], &2), Some(2));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5, 6], &3), Some(3));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5, 6], &4), Some(4));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5, 6], &5), Some(5));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5, 6], &6), Some(6));
    assert_eq!(searcher(&[0, 1, 2, 3, 4, 5, 6], &7), None);
}
